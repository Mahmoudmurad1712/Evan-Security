
/***!  /cache/jsn_epic_pro/2997f8ffe663a3043c57661129436c99.js  !***/

try{if(typeof(jQuery)!=="undefined"){jQuery.noConflict();};var JSNUtils={encodeCookie:function(value){return value.replace(/\"/g,'%22');},decodeCookie:function(value){return value.replace(/\%22/g,'"');},writeCookie:function(name,value,days){value=JSNUtils.encodeCookie(value);if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();}else expires="";document.cookie=name+"="+value+expires+"; path=/";},readCookie:function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return JSNUtils.decodeCookie(c.substring(nameEQ.length,c.length));}
return null;},isIE:function(version){if(version=='mobile'){return(navigator.userAgent.match(/IEMobile\/([0-9]+\.[0-9]+);/)!=null);}
return(navigator.appVersion.indexOf('MSIE '+version+'.')>-1);},isIE7:function(){return JSNUtils.isIE(7);},setDesktopOnMobile:function(){if(JSNUtils.checkMobile()){document.body.addClass('jsn-desktop-on-mobile');}},isDesktopViewOnMobile:function(params){if(params){if(JSNUtils.checkMobile()){if(!params.responsiveLayout.length||!params.responsiveLayout.contains('mobile')){document.body.addClass('jsn-desktop-on-mobile');}
if(!params.enableMobile){JSNUtils.initMenuForDesktopView(true);}}}
return document.body.hasClass('jsn-mobile');},initMenuForDesktopView:function(checked){if(checked){var sitetools=document.id('jsn-sitetools-menu');if(sitetools){sitetools.addClass('sitetool-desktop-on-mobile');}
document.getElements('ul.menu-mainmenu').addClass('jsn-desktop-on-mobile');}},initScrollToContent:function(stickyMenus){if(window.jQuery){jQuery(window).load(function(){jQuery('.jsn-menu-toggle + ul li.jsn-scroll > a').each(function(i,link){jQuery(link).click(function(event){event.preventDefault();var target=jQuery(jQuery(this).attr('href')),menu=jQuery('#jsn-menu');if(target.length){var pos=target.offset();if(stickyMenus&&menu){if(stickyMenus.mobile=='1'&&JSNUtils.checkMobile()&&menu.hasClass('jsn-menu-sticky')){pos.top-=menu.outerHeight()+menu.find('ul.menu-mainmenu').outerHeight();}else if(stickyMenus.desktop=='1'&&(!JSNUtils.checkMobile()||document.body.hasClass('jsn-desktop-on-mobile'))){pos.top-=menu.outerHeight();}}
jQuery('html,body').animate({scrollTop:pos.top,scrollLeft:pos.left},500);}});});});}else if(typeof Fx!='undefined'&&typeof Fx.Scroll!='undefined'){window.addEvent('load',function(){document.getElements('.jsn-menu-toggle + ul li.jsn-scroll > a').each(function(link){link.addEvent('click',function(event){event.preventDefault();var target=document.getElement(this.getAttribute('href')),menu=document.id('jsn-menu');if(target){var pos=target.getPosition();if(stickyMenus&&menu){if(stickyMenus.mobile=='1'&&JSNUtils.checkMobile()&&menu.hasClass('jsn-menu-sticky')){pos.y-=menu.getSize().y+menu.getElement('ul.menu-mainmenu').getSize().y;}else if(stickyMenus.desktop=='1'&&(!JSNUtils.checkMobile()||document.body.hasClass('jsn-desktop-on-mobile'))){pos.y-=menu.getSize().y;}}
(this.__scrollFxObj=this.__scrollFxObj||new Fx.Scroll(window)).start(pos.x,pos.y);}});});});}
window.addEvent('load',function(){var anchors=document.getElements('ul.menu-mainmenu li a[href^="#"]'),targets=[],lastScrollTop,activate=function(i){anchors.each(function(anchor){if(anchor.getParent().hasClass('active')&&anchor.getAttribute('href')!='#'+targets[i].id){anchor.getParent().removeClass('active');}else if(!anchor.getParent().hasClass('active')&&anchor.getAttribute('href')=='#'+targets[i].id){anchor.getParent().addClass('active');}});};anchors.each(function(anchor){targets.push(document.getElement(anchor.getAttribute('href')));});window.addEvent('scroll',function(){var windowHeight=window.getSize().y,scrollHeight=window.getScrollSize().y,scrollTop=window.getScroll().y,diff;if(scrollTop==0){var top_most=0,diff=targets[0].getPosition().y;for(var i=1;i<targets.length;i++){if(targets[i].getPosition().y<diff){top_most=i;diff=targets[i].getPosition().y;}}
activate(top_most);}else if(scrollHeight-scrollTop==windowHeight){var bottom_most=targets.length-1,diff=targets[targets.length-1].getPosition().y;for(var i=0;i<targets.length-1;i++){if(targets[i].getPosition().y>diff){bottom_most=i;diff=targets[i].getPosition().y;}}
activate(bottom_most);}else{for(var i=0;i<targets.length;i++){diff=targets[i].getPosition().y-scrollTop;if(diff<0){diff=0-diff;}
if(diff<(windowHeight/5)){activate(i);}}}
return true;}).fireEvent('scroll');});},getBrowserInfo:function(){var name='';var version='';var ua=navigator.userAgent.toLowerCase();var match=ua.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,'unknown',0];if(match[1]=='version')
{name=match[3];}
else
{name=match[1];}
version=parseFloat((match[1]=='opera'&&match[4])?match[4]:match[2]);return{'name':name,'version':version};},checkMobile:function(){var uagent=navigator.userAgent.toLowerCase(),isMobile=false,mobiles=["midp","240x320","blackberry","netfront","nokia","panasonic","portalmmm","sharp","sie-","sonyericsson","symbian","windows ce","benq","mda","mot-","opera mini","philips","pocket pc","sagem","samsung","sda","sgh-","vodafone","xda","palm","iphone","ipod","android","ipad"];for(var i=0;i<mobiles.length;i++){if(uagent.indexOf(mobiles[i])>-1){isMobile=true;}}
if(isMobile){JSNUtils.isAppleDevice=/ipod|ipad|iphone/.test(uagent);JSNUtils.isWindowPhone=/windows phone/.test(uagent);JSNUtils.isAndroidDevice=/android/.test(uagent);}
return isMobile;},getScreenWidth:function(){var screenWidth;if(typeof(window.innerWidth)=='number')
{screenWidth=window.innerWidth;}
else if(document.documentElement&&document.documentElement.clientWidth)
{screenWidth=document.documentElement.clientWidth;}
return screenWidth;},checkSmartphone:function(){var screenWidth=JSNUtils.getScreenWidth(),isSmartphone=false;if(screenWidth>=320&&screenWidth<480)
{isSmartphone=true;}
return isSmartphone;},checkTablet:function(){var screenWidth=JSNUtils.getScreenWidth(),isTablet=false;if(screenWidth>=481&&screenWidth<1024)
{isTablet=true;}
return isTablet;},getScreenType:function(){var screenType;if(JSNUtils.checkSmartphone()){screenType='smartphone';}else if(JSNUtils.checkTablet()){screenType='tablet';}else{screenType='desktop';}
return screenType;},addEvent:function(target,event,func){if(target.addEventListener){target.addEventListener(event,func,false);return true;}else if(target.attachEvent){var result=target.attachEvent("on"+event,func);return result;}else{return false;}},getElementsByClass:function(targetParent,targetTag,targetClass,targetLevel){var elements,tags,tag,tagClass;if(targetLevel==undefined){tags=targetParent.getElementsByTagName(targetTag);}else{tags=JSNUtils.getChildrenAtLevel(targetParent,targetTag,targetLevel);}
elements=[];for(var i=0;i<tags.length;i++){tagClass=tags[i].className;if(tagClass!=""&&JSNUtils.checkSubstring(tagClass,targetClass," ",false)){elements[elements.length]=tags[i];}}
return elements;},getFirstChild:function(targetEl,targetTagName){var nodes,node;nodes=targetEl.childNodes;for(var i=0;i<nodes.length;i++){node=nodes[i];if(node.tagName==targetTagName)
return node;}
return null;},getFirstChildAtLevel:function(targetEl,targetTagName,targetLevel){var child,nodes,node;nodes=targetEl.childNodes;for(var i=0;i<nodes.length;i++){node=nodes[i];if(targetLevel==1){if(node.tagName==targetTagName)return node;}else{child=JSNUtils.getFirstChildAtLevel(node,targetTagName,targetLevel-1);if(child!=null)return child;}}
return null;},getChildren:function(targetEl,targetTagName){var nodes,node;var children=[];nodes=targetEl.childNodes;for(var i=0;i<nodes.length;i++){node=nodes[i];if(node.tagName==targetTagName)
children.push(node);}
return children;},getChildrenAtLevel:function(targetEl,targetTagName,targetLevel){var children=[];var nodes,node;nodes=targetEl.childNodes;for(var i=0;i<nodes.length;i++){node=nodes[i];if(targetLevel==1){if(node.tagName==targetTagName)children.push(node);}else{children=children.concat(JSNUtils.getChildrenAtLevel(node,targetTagName,targetLevel-1));}}
return children;},addClass:function(targetTag,targetClass){if(targetTag.className==""){targetTag.className=targetClass;}else{if(!JSNUtils.checkSubstring(targetTag.className,targetClass," ")){targetTag.className+=" "+targetClass;}}},getViewportSize:function(){var myWidth=0,myHeight=0;if(typeof(window.innerWidth)=='number'){myWidth=window.innerWidth;myHeight=window.innerHeight;}else if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){myWidth=document.documentElement.clientWidth;myHeight=document.documentElement.clientHeight;}else if(document.body&&(document.body.clientWidth||document.body.clientHeight)){myWidth=document.body.clientWidth;myHeight=document.body.clientHeight;}
return{width:myWidth,height:myHeight};},addURLPrefix:function(targetId)
{var navUrl=window.location.href;var targetEl=document.getElementById(targetId);if(targetEl!=undefined&&targetEl.tagName.toUpperCase()=='A')
{orgHref=targetEl.href;targetEl.href=navUrl+((navUrl.indexOf(orgHref)!=-1)?'':orgHref);}},setSubmenuPosition:function(enableRTL)
{var toggle=document.getElement('span.jsn-menu-toggle');if(toggle&&toggle.getStyle('display')!='none'){return;}
var maxSize,parents,enableRTL=enableRTL||false;parents=document.getElements('ul.menu-mainmenu > li.parent');if(!parents.length)return;parents.each(function(parent){var submenu=parent.getChildren('ul'),level=0;while(submenu.length){var tmp=[];level++;submenu.each(function(ul){ul.addClass('jsn-submenu-level-'+level);ul.getElements('> li.parent > ul').each(function(nested){tmp.push(nested);});});submenu=tmp;}
parent.jsnMaxSubmenuLevel=level;});var placeSubmenu=function(parent,flipBack){var width=0,submenu=parent.getElement('ul.jsn-submenu-level-'+parent.jsnMaxSubmenuLevel),flipBack=flipBack||false,farLeft;if((enableRTL&&!flipBack)||(!enableRTL&&flipBack)){farLeft=parent.getPosition().x+parent.getSize().x;while(!submenu.hasClass('menu-mainmenu')){farLeft-=submenu.getSize().x;submenu=submenu.getParent().getParent();}}else if((!enableRTL&&!flipBack)||(enableRTL&&flipBack)){farLeft=parent.getPosition().x;while(!submenu.hasClass('menu-mainmenu')){width+=submenu.getSize().x;submenu=submenu.getParent().getParent();}}
if(typeof maxSize=='undefined')
{var tmpWW=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var tmpWH=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;maxSize={x:tmpWW,y:tmpWH};}
if((((enableRTL&&!flipBack)||(!enableRTL&&flipBack))&&farLeft<0)||(((!enableRTL&&!flipBack)||(enableRTL&&flipBack))&&farLeft+width>maxSize.x)){if(!flipBack){parent.addClass('jsn-submenu-flipback');placeSubmenu(parent,true);}else{parent.removeClass('jsn-submenu-flipback');}}},resizeHandler=function(){document.body.setStyle('overflow-x','hidden');maxSize=window.getSize();parents.each(function(parent){var submenus=parent.getElements('ul');parent.removeClass('jsn-submenu-flipback');submenus.setStyle('display','block');placeSubmenu(parent);submenus.setStyle('display','');});document.body.setStyle('overflow-x','');};window.addEvent('resize',function(){placeSubmenu.timer&&clearTimeout(placeSubmenu.timer);placeSubmenu.timer=setTimeout(resizeHandler,500);});resizeHandler();},setMobileMenu:function(menuClass,effect)
{if(JSNUtils.mobileMenuInitialized){return;}
var mobileEffect='';if(typeof effect!=='undefined'&&effect!='default')
{mobileEffect=effect;}
var toggle=function(){this.toggleClass("active");this.getNext("ul").toggleClass("jsn-menu-mobile");if(mobileEffect!=''&&this.getProperty('id')=='jsn-menu-toggle-parent')
{var splitMobleEffectStr=mobileEffect.split("-");this.getNext("ul").toggleClass("jsn-menu-mobile-"+splitMobleEffectStr[0]);this.getNext("ul").toggleClass("jsn-menu-mobile-"+mobileEffect);document.getElements("body").toggleClass("jsn-menu-mobile-"+mobileEffect);this.getNext("ul").removeAttribute('style');if(mobileEffect=='push-left'||mobileEffect=='push-right')
{window.fireEvent('toggle-advanced-mobile-menu');}}
document.getElements("."+menuClass+" .jsn-menu-toggle").each(function(item){if(item.get('id')!='jsn-menu-toggle-parent')
{var a=item.getPrevious(),size=a.getSize();item.setStyle('height',size.y);}});if(mobileEffect!='push-left'&&mobileEffect!='push-right')
{window.fireEvent('toggle-mobile-menu');}};if(document.getElements("ul.menu-mainmenu .jsn-menu-mobile-control").length)
{document.getElements("ul."+menuClass+" .jsn-menu-mobile-control .close-menu").addEvent('click',function(){document.getElements("ul."+menuClass).each(function(item){if(item.get('id')!='jsn-tpl-megamenu')
{item.getPrevious(".jsn-menu-toggle").fireEvent('click');}});});}
document.getElements("ul."+menuClass).getPrevious(".jsn-menu-toggle").each(function(e){e&&e.addEvent('click',toggle);});document.getElements("ul."+menuClass+" .jsn-menu-toggle").addEvent('click',toggle);if(mobileEffect!='')
{var splitMobleEffectStr=mobileEffect.split("-");document.getElements("ul.menu-mainmenu").addClass("jsn-menu-mobile-"+splitMobleEffectStr[1]);}
window.addEvent('resize',function(){if(window.getSize().x>1024&&JSNUtils.getScreenType()=='desktop'){document.getElements('ul.jsn-menu-mobile').removeClass('jsn-menu-mobile');if(mobileEffect!='')
{var splitMobleEffectStr=mobileEffect.split("-");document.getElements("body").removeClass("jsn-menu-mobile-"+mobileEffect);document.getElements("ul.jsn-menu-mobile-"+splitMobleEffectStr[0]).removeClass("jsn-menu-mobile-"+splitMobleEffectStr[0]);document.getElements("ul.jsn-menu-mobile-"+mobileEffect).removeClass("jsn-menu-mobile-"+mobileEffect);}}});JSNUtils.mobileMenuInitialized=true;},setDesktopSticky:function(menuId){if((JSNUtils.checkMobile()||JSNUtils.getScreenType()!='desktop')&&!document.body.hasClass('jsn-desktop-on-mobile')){return;}
var header=document.id(menuId?menuId:'jsn-menu');window.addEvent('load',function(){var headerPosition=header.getPosition(),menuHeight=header.getHeight(),placeHolder=new Element('div',{'class':'jsn-menu-placeholder'});window.addEvent('scroll',function(event){var windowScroll=window.getScroll();if(windowScroll.y>headerPosition.y){header.addClass('jsn-menu-sticky');placeHolder.inject(header,'after');placeHolder.setStyle('height',menuHeight);}else{header.removeClass('jsn-menu-sticky');placeHolder.destroy();}});});},setMobileSticky:function(menuId){JSNUtils.mobileStickyEnabled=true;var page=document.id('jsn-page'),menu=document.id(menuId?menuId:'jsn-menu'),menuToggler=menu.getElement('.jsn-menu-toggle'),mainMenu=menu.getElement('ul.menu-mainmenu'),menuSize=menu.getCoordinates(),menuPlacehoder=new Element('div',{'id':'jsn-menu-placeholder'}),menuParent=menu.getParent(),menuParentOffset=menuParent.getCoordinates(),menuLeft=menuSize.left,menuPaddingHorz=parseInt(menu.getStyle('padding-left'))+parseInt(menu.getStyle('padding-right')),menuBorderHorz=parseInt(menu.getStyle('border-left'))+parseInt(menu.getStyle('border-right')),isSticked=false,touchStartOffset={},isFixedSupport=JSNUtils.isFixedSupport(),lastScrollTop=0,menuOriginalWidth=menuSize.width;menuPlacehoder.setStyles({height:menuSize.height,margin:menu.getStyle('margin')});var getMaxMenuHeight=function(){return window.innerHeight-menuSize.height;};var getTouchDirection=function(touchEvent){return touchEvent.touches[0].pageY>touchStartOffset.y?'up':'down';};var resetMenuPosition=function(){var restorePoint=menuPlacehoder.getPosition().y;if(restorePoint==0){var parent=menuPlacehoder.getParent();while(parent.nodeName!='BODY'&&parent.getStyle('position')!='relative'){parent=parent.getParent();}
restorePoint=parent.getPosition().y;}
if(window.getScroll().y<restorePoint){menu.removeClass('jsn-menu-sticky jsn-mobile-menu-sticky').removeAttribute('style');menuPlacehoder.dispose();mainMenu.setStyles({'max-height':'auto','overflow-y':'hidden'});isSticked=false;}};var getMenuWidth=function(forceMenuWidth){var menuWidth=forceMenuWidth||menuSize.width;if(!isNaN(menuPaddingHorz))
menuWidth=menuWidth-menuPaddingHorz;if(!isNaN(menuBorderHorz))
menuWidth=menuWidth-menuBorderHorz;return menuWidth;};var makeAdvancedMenuStick=function()
{if(menu.hasClass('jsn-mobile-menu-sticky'))
{menuSize=menu.getCoordinates();menuLeft=menuSize.left;menu.setStyles({'left':menuLeft,'width':menuOriginalWidth,'position':'fixed','top':0,'z-index':9999999});updatePosition.longMenuFixed=false;}}
var fx=new Fx.Morph(menu,{transition:Fx.Transitions.Expo.easeOut});fx.addEvent('complete',resetMenuPosition);var makeMenuStick=function(){var scrollTop=window.getScroll().y,menuOffsetTop=menu.getPosition().y;if(mainMenu.getStyle('display')=='block'&&!menu.hasClass('jsn-mobile-menu-sticky')){return menu.setStyles({'left':'','width':'','position':'relative','top':'','z-index':''});}
if(scrollTop>menuOffsetTop&&menuParent.getElement('#jsn-menu-placeholder')==null&&isSticked==false){if(fx.isRunning())
fx.cancel();menuSize=menu.getCoordinates();menuLeft=menuSize.left;menu.addClass('jsn-menu-sticky jsn-mobile-menu-sticky').setStyles({'left':menuLeft,'width':getMenuWidth(),'position':isFixedSupport?'fixed':'absolute','top':isFixedSupport?0:scrollTop,'z-index':9999999});menuPlacehoder.inject(menu,'before');isSticked=true;}};var updatePosition=function(){updatePosition.longMenuFixed||makeMenuStick();if(mainMenu.getStyle('display')=='block'&&!menu.hasClass('jsn-mobile-menu-sticky')){return menu.setStyles({'left':'','width':'','position':'relative','top':'','z-index':''});}
var scrollTop=window.getScroll().y,placeHoderOffset=menuPlacehoder.getPosition().y;if(scrollTop>=lastScrollTop){if(getMaxMenuHeight()<mainMenu.getCoordinates().height){if(!updatePosition.longMenuFixed){menu.setStyles({position:'absolute',top:lastScrollTop});}
lastScrollTop=scrollTop;return(updatePosition.longMenuFixed=true);}}else if(scrollTop<lastScrollTop){if(getMaxMenuHeight()<mainMenu.getCoordinates().height){if(scrollTop<=menu.getPosition().y&&updatePosition.longMenuFixed){menu.setStyles({position:isFixedSupport?'fixed':'absolute',top:isFixedSupport?0:scrollTop});updatePosition.longMenuFixed=false;}}
resetMenuPosition();if(updatePosition.longMenuFixed)
{return(lastScrollTop=scrollTop);}}
if(fx.isRunning())fx.pause();if(isSticked==true&&placeHoderOffset>scrollTop&&menu.getStyle('position')=='fixed'){menu.setStyles({position:'absolute',top:scrollTop,left:menuPlacehoder.getCoordinates().left,width:getMenuWidth()});fx.start({top:placeHoderOffset});}
else if(isSticked==true&&menu.getStyle('position')=='absolute'){var menuTop=menu.getPosition().y;fx.start({top:(placeHoderOffset>scrollTop)?placeHoderOffset:scrollTop,left:menuPlacehoder.getCoordinates().left});}
else{menu.setStyle('left',menuPlacehoder.getCoordinates().left);}
lastScrollTop=scrollTop;};var updatePositionTimeout=null,updateMenuSizeTimeout=null,isMovedToTop=false,backupWindowScroll=null,pageHeight=page.getSize().y;window.addEvent('load',function(){clearTimeout(updatePositionTimeout);updatePositionTimeout=setTimeout(updatePosition,100);window.addEvent('touchmove',makeMenuStick);window.addEvent('scroll',updatePosition);window.addEvent('resize',function(){clearTimeout(updateMenuSizeTimeout);updateMenuSizeTimeout=setTimeout(function(){if(isSticked==true){menuSize=menuPlacehoder.getCoordinates();menu.setStyle('width',getMenuWidth());menuOriginalWidth=menuSize.width;}
else{menuSize=menu.getCoordinates();}},100);});window.addEvent('orientationchange',updatePosition);window.addEvent('toggle-mobile-menu',updatePosition);window.addEvent('toggle-advanced-mobile-menu',makeAdvancedMenuStick);});},setDropdownModuleEvents:function()
{document.getElements('div.display-dropdown.jsn-modulecontainer h3.jsn-moduletitle').addEvent('click',function(e){var
elm=e.target;while(!elm.hasClass('jsn-modulecontainer'))
elm=elm.getParent();elm.toggleClass('jsn-dropdown-active');});},setMobileSitetool:function()
{var siteToolPanel=document.id("jsn-sitetoolspanel");if(siteToolPanel)
{siteToolPanel.getElements("li.jsn-sitetool-control").addEvent("click",function(){this.toggleClass("active");});}},getSelectMenuitemIndex:function(elementID)
{var childs=document.id(elementID).childNodes;var count=childs.length;var index=0;for(var i=0;i<count;i++)
{if(childs[i].className!=undefined&&childs[i].className.indexOf('parent')!=-1)
{if(childs[i].className.indexOf('active')!=-1)
{return index;}
index++;}}
return-1;},createImageMenu:function(menuId,imageClass){if(!document.getElementById)return;var list=document.getElementById(menuId);var listItems;var listItem;if(list!=undefined){listItems=list.getElementsByTagName("LI");for(i=0,j=0;i<listItems.length;i++){listItem=listItems[i];if(listItem.parentNode==list){listItem.className+=" "+imageClass+(j+1);j++;}}}},setSidemenuLayout:function(menuClass,rtlLayout)
{var sidemenus,sidemenu,smChildren,smChild,smSubmenu;sidemenus=JSNUtils.getElementsByClass(document,"UL",menuClass);if(sidemenus!=undefined){for(var i=0;i<sidemenus.length;i++){sidemenu=sidemenus[i];smChildren=JSNUtils.getChildren(sidemenu,"LI");if(smChildren!=undefined){for(var j=0;j<smChildren.length;j++){smChild=smChildren[j];smSubmenu=JSNUtils.getFirstChild(smChild,"UL");if(smSubmenu!=null){if(rtlLayout==true){smSubmenu.style.marginRight=smChild.offsetWidth+"px";}
else{smSubmenu.style.marginLeft=smChild.offsetWidth+"px";}}}}}}},setSitetoolsLayout:function(sitetoolsId,rtlLayout)
{var sitetoolsContainer,parentItem,sitetoolsPanel,neighbour;sitetoolsContainer=document.getElementById(sitetoolsId);if(sitetoolsContainer!=undefined){parentItem=JSNUtils.getFirstChild(sitetoolsContainer,"LI");sitetoolsPanel=JSNUtils.getFirstChild(parentItem,"UL");if(rtlLayout==true){sitetoolsPanel.style.marginRight=-1*(sitetoolsPanel.offsetWidth-parentItem.offsetWidth)+"px";}else{sitetoolsPanel.style.marginLeft=-1*(sitetoolsPanel.offsetWidth-parentItem.offsetWidth)+"px";}}},setTemplateAttribute:function(templatePrefix,attribute,value)
{var templateParams=JSON.parse(JSNUtils.readCookie(templatePrefix+'params'))||{};templateParams[attribute]=value;JSNUtils.writeCookie(templatePrefix+'params',JSON.stringify(templateParams));window.location.reload(true);},createExtList:function(listClass,extTag,className,includeNumber){if(!document.getElementById)return;var lists=JSNUtils.getElementsByClass(document,"UL",listClass);var list;var listItems;var listItem;if(lists!=undefined){for(var j=0;j<lists.length;j++){list=lists[j];listItems=JSNUtils.getChildren(list,"LI");for(var i=0,k=0;i<listItems.length;i++){listItem=listItems[i];if(className!=''){listItem.innerHTML='<'+extTag+' class='+className+'>'+(includeNumber?(k+1):'')+'</'+extTag+'>'+listItem.innerHTML;}else{listItem.innerHTML='<'+extTag+'>'+(includeNumber?(k+1):'')+'</'+extTag+'>'+listItem.innerHTML;}
k++;}}}},createGridLayout:function(containerTag,containerClass,columnClass,lastcolumnClass){var gridLayouts,gridLayout,gridColumns,gridColumn,columnsNumber;gridLayouts=JSNUtils.getElementsByClass(document,containerTag,containerClass);for(var i=0;i<gridLayouts.length;i++){gridLayout=gridLayouts[i];gridColumns=JSNUtils.getChildren(gridLayout,containerTag);columnsNumber=gridColumns.length;JSNUtils.addClass(gridLayout,containerClass+columnsNumber);JSNUtils.addClass(gridLayout,'clearafter');for(var j=0;j<columnsNumber;j++){gridColumn=gridColumns[j];JSNUtils.addClass(gridColumn,columnClass);if(j==gridColumns.length-1){JSNUtils.addClass(gridColumn,lastcolumnClass);}
var inner=document.createElement('DIV');inner.setAttribute('class',columnClass+'_inner');while(gridColumn.childNodes.length){inner.appendChild(gridColumn.childNodes[0]);}
gridColumn.appendChild(inner);}}},sfHover:function(menuId,menuDelay){if(menuId==undefined)return;var delay=(menuDelay==undefined)?0:menuDelay;var pEl=document.getElementById(menuId);if(pEl!=undefined){var sfEls=pEl.getElementsByTagName("li");for(var i=0;i<sfEls.length;++i){sfEls[i].onmouseover=function(){clearTimeout(this.timer);if(this.className.indexOf("sfhover")==-1){this.className+=" sfhover";}};sfEls[i].onmouseout=function(){this.timer=setTimeout(JSNUtils.sfHoverOut.bind(this),delay);};}}},sfHoverOut:function(){clearTimeout(this.timer);this.className=this.className.replace(new RegExp(" sfhover\\b"),"");},setFontSize:function(targetId,fontSize){var targetObj=(document.getElementById)?document.getElementById(targetId):document.all(targetId);targetObj.style.fontSize=fontSize+'%';},setVerticalPosition:function(pName,pAlignment){var targetElement=document.getElementById(pName);if(targetElement!=undefined){var topDelta,vpHeight,pHeight;vpHeight=(JSNUtils.getViewportSize()).height;pHeight=targetElement.offsetHeight;switch(pAlignment){case"top":topDelta=0;break;case"middle":topDelta=Math.floor((100-Math.round((pHeight/vpHeight)*100))/2);break;case"bottom":topDelta=100-Math.round((pHeight/vpHeight)*100);break;}
topDelta=(topDelta<0)?0:topDelta;targetElement.style.top=topDelta+"%";targetElement.style.visibility="visible";}},setInnerLayout:function(elements)
{var root=document.getElementById(elements[0]);var rootWidth=root?root.offsetWidth:0;var pleftWidth=0;var pinnerleftWidth=0;var prightWidth=0;var pinnerrightWidth=0;if(document.getElementById(elements[1])!=null){pleftWidth=document.getElementById(elements[1]).offsetWidth;}
if(document.getElementById(elements[3])!=null){pinnerleftWidth=document.getElementById(elements[3]).offsetWidth;if(root){var resultLeft=(pleftWidth+pinnerleftWidth)*100/rootWidth;root.firstChild.style.right=(100-resultLeft)+"%";root.firstChild.firstChild.style.left=(100-resultLeft)+"%";}}
if(document.getElementById(elements[2])!=null){prightWidth=document.getElementById(elements[2]).offsetWidth;}
if(document.getElementById(elements[4])!=null){pinnerrightWidth=document.getElementById(elements[4]).offsetWidth;if(root){var resultRight=(prightWidth+pinnerrightWidth)*100/rootWidth;root.firstChild.firstChild.firstChild.style.left=(100-resultRight)+"%";root.firstChild.firstChild.firstChild.firstChild.style.right=(100-resultRight)+"%";}}},setupLayout:function(mapping)
{mapping=mapping||{'jsn-leftsidecontent':['jsn-content_inner'],'jsn-rightsidecontent':['jsn-content_inner2'],'jsn-pos-innerleft':['jsn-maincontent_inner1','jsn-mainbody-content-inner1'],'jsn-pos-innerright':['jsn-maincontent_inner3','jsn-mainbody-content-inner3']};var container=document.id('jsn-content'),maxWidth,innerContainer,innerMaxWidth,width,flip,isLeft,isInner,column,background;if(!container){return;}
maxWidth=container.getSize().x;for(var i in mapping){isLeft=i.match(/-(inner)?left/);isInner=i.match(/-(inner)/);column=document.id(i);if(column){if(isInner&&!innerContainer){innerContainer=column.getParent();while(!innerContainer.className.match(/span\d+ order\d+/)&&innerContainer!=container){innerContainer=innerContainer.getParent();}
innerMaxWidth=innerContainer.getSize().x;}
if(column.getParent().getChildren().length==1){continue;}
column=column.getParent().getElement('> .order'+(isLeft?'1':column.getParent().getChildren().length));if(!column){continue;}
if(!column.id.match(/-(inner)?(left|right)/)){column=column.getParent().getElement('> .order'+(isLeft?'2':column.getParent().getChildren().length-1));}
for(var j=0;j<mapping[i].length;j++){background=document.id(mapping[i][j]);if(background){break;}}
if(background){var repositionElement;if(result=background.id.match(/^([^\d]+)(\d+)$/)){repositionElement=document.id(result[1]+(parseInt(result[2])+1));}else{repositionElement=document.id(background.id+'1');}
if(repositionElement){flip=(isInner||column.hasClass('order'+(isLeft?'1':column.getParent().getChildren().length)))?false:true;width=isLeft?((flip?column.getPosition(isInner?innerContainer:container).x:column.getSize().x)/(isInner?innerMaxWidth:maxWidth))*100:((flip?(isInner?innerMaxWidth:maxWidth)-column.getPosition(isInner?innerContainer:container).x-column.getSize().x:column.getSize().x)/(isInner?innerMaxWidth:maxWidth))*100;if(isLeft){background.setStyle(flip?'left':'right',(flip?width:100-width)+'%');repositionElement.setStyle(flip?'right':'left',(flip?width:100-width)+'%');}else{background.setStyle(flip?'right':'left',(flip?width:100-width)+'%');repositionElement.setStyle(flip?'left':'right',(flip?width:100-width)+'%');}
flip&&background.addClass('jsn-flip');}}}}},setEqualHeight:function()
{var containerClass="jsn-horizontallayout";var columnClass="jsn-modulecontainer_inner";var horizontallayoutObjs=document.getElements('.'+containerClass);var maxHeight=0;Array.each(horizontallayoutObjs,function(item){var columns=item.getElements('.'+columnClass);maxHeight=0;Array.each(columns,function(col){var coordinates=col.getCoordinates();if(coordinates.height>maxHeight)maxHeight=coordinates.height;});Array.each(columns,function(col){col.setStyle('height',maxHeight);});});},setToTopLinkCenter:function(rtl,jquery)
{var min=200;var marginFrom="margin-left";if(rtl===true){marginFrom="margin-right";}
if(jquery||window.jQuery){var element=jQuery('#jsn-gotoplink');if(!element.length)return;element.hide();(jQuery(window).scrollTop()>=min)?element.fadeIn():element.fadeOut();}else if(typeof(MooTools)!='undefined'){var element=document.id('jsn-gotoplink');if(!element)return;var elementHeight=element.getSize().y;element.setStyle('margin-left',-(element.getSize().x/2)).set('opacity','0').fade((window.getScroll().y>=min)?'in':'out').fade((window.getScroll().y>=min)?1:0);if(!JSNUtils.isFixedSupport()){element.setStyle('position','absolute');window.addEvent('scroll',function(){var height=window.innerHeight;element.setStyle('bottom','auto');element.setStyle('top',window.getScroll().y+(height-elementHeight));});}}},isFixedSupport:function(){var userAgent=window.navigator.userAgent+'',isNexusS=/Nexus S/.test(userAgent),isSupported=!isNexusS;if(isSupported&&(JSNUtils.isAppleDevice||JSNUtils.isAndroidDevice||JSNUtils.isWindowPhone)){var pattern=JSNUtils.isWindowPhone?/IEMobile\/([0-9]+\.[0-9]+);/:/AppleWebKit\/([0-9]+\.[0-9]+)\s+/;if(pattern.test(userAgent)){var result=pattern.exec(userAgent);var version=result[1];isSupported=((JSNUtils.isAppleDevice||JSNUtils.isAndroidDevice)&&JSNUtils.versionCompare(version,'534.1','>='));}}
return isSupported;},versionCompare:function(v1,v2,operator){this.php_js=this.php_js||{};this.php_js.ENV=this.php_js.ENV||{};var i=0,x=0,compare=0,vm={'dev':-6,'alpha':-5,'a':-5,'beta':-4,'b':-4,'RC':-3,'rc':-3,'#':-2,'p':-1,'pl':-1},prepVersion=function(v){v=(''+v).replace(/[_\-+]/g,'.');v=v.replace(/([^.\d]+)/g,'.$1.').replace(/\.{2,}/g,'.');return(!v.length?[-8]:v.split('.'));},numVersion=function(v){return!v?0:(isNaN(v)?vm[v]||-7:parseInt(v,10));};v1=prepVersion(v1);v2=prepVersion(v2);x=Math.max(v1.length,v2.length);for(i=0;i<x;i++){if(v1[i]==v2[i]){continue;}
v1[i]=numVersion(v1[i]);v2[i]=numVersion(v2[i]);if(v1[i]<v2[i]){compare=-1;break;}else if(v1[i]>v2[i]){compare=1;break;}}
if(!operator){return compare;}
switch(operator){case'>':case'gt':return(compare>0);case'>=':case'ge':return(compare>=0);case'<=':case'le':return(compare<=0);case'==':case'=':case'eq':return(compare===0);case'<>':case'!=':case'ne':return(compare!==0);case'':case'<':case'lt':return(compare<0);default:return null;}},setSmoothScroll:function(jquery)
{JSNUtils.checkMobile();if(!JSNUtils.isWindowPhone||!JSNUtils.isIE('mobile')){if(jquery||window.jQuery){jQuery('#jsn-gotoplink').click(function(e){e.preventDefault();var gotoplinkOffset=jQuery('#top').offset().top;jQuery('html,body').animate({scrollTop:gotoplinkOffset},500);return false;});}else if(typeof Fx!='undefined'&&typeof Fx.SmoothScroll!='undefined'){new Fx.SmoothScroll({duration:300,links:'#jsn-gotoplink',},window);}}},setFadeScroll:function(jquery)
{var min=200;if(jquery||window.jQuery){var element=jQuery('#jsn-gotoplink');if(element==null)return false;jQuery(window).scroll(function(){(jQuery(window).scrollTop()>=min)?element.fadeIn():element.fadeOut();});}else if(typeof(MooTools)!='undefined'){var element=document.id('jsn-gotoplink');if(element==null)return false;if(parseFloat(MooTools.version)<1.2)
{var fx=new Fx.Style(element,"opacity",{duration:500});var inside=false;window.addEvent('scroll',function(e){var position=window.getSize().scroll;var y=position.y;if(y>=min)
{if(!inside)
{inside=true;fx.start(0,1);}}
else
{if(inside)
{inside=false;fx.start(1,0);}}}.bind(this));}
else
{window.addEvent('scroll',function(e){element.fade((window.getScroll().y>=min)?'in':'out');element.fade((window.getScroll().y>=min)?1:0);}.bind(this));}}},checkSubstring:function(targetString,targetSubstring,delimeter,wholeWord){if(wholeWord==undefined)wholeWord=false;var parts=targetString.split(delimeter);for(var i=0;i<parts.length;i++){if(wholeWord&&parts[i]==targetSubstring)return true;if(!wholeWord&&parts[i].indexOf(targetSubstring)>-1)return true;}
return false;},removeCss3Duplicate:function(className)
{var element=document.getElements('.'+className);if(element!=undefined)
{element.each(function(e){var elementParent=e.getParent();var duplicateTag=elementParent.getChildren('css3-container');if(duplicateTag.length&&duplicateTag.length>1)
{elementParent.removeChild(duplicateTag[0]);}});}}};;var JSNTemplate={_templateParams:{},initOnDomReady:function()
{JSNUtils.createGridLayout("DIV","grid-layout","grid-col","grid-lastcol");JSNUtils.createExtList("list-number-","span","jsn-listbullet",true);JSNUtils.createExtList("list-icon","span","jsn-listbullet",false);if(_templateParams.enableGotopLink){JSNUtils.setToTopLinkCenter(_templateParams.enableRTL,false);JSNUtils.setSmoothScroll(false);JSNUtils.setFadeScroll(false);}
JSNUtils.setupLayout();JSNUtils.setMobileMenu("menu-mainmenu",_templateParams.mobileMenuEffect);if(JSNUtils.isDesktopViewOnMobile(_templateParams)){if(_templateParams.enableMobileMenuSticky&&JSNUtils.checkMobile()){JSNUtils.setMobileSticky();}}
else{JSNUtils.initMenuForDesktopView();}
JSNUtils.setDropdownModuleEvents();JSNUtils.setMobileSitetool();if(_templateParams.enableDesktopMenuSticky){JSNUtils.setDesktopSticky();}
try{JSNMegamenu.setMegamenuSubmenuPosition(_templateParams.enableRTL);JSNMegamenu.setMegamenuSubmenuStyle();}
catch(err){}},initOnLoad:function()
{JSNUtils.setSubmenuPosition(_templateParams.enableRTL);JSNUtils.setVerticalPosition("jsn-pos-stick-leftmiddle",'middle');JSNUtils.setVerticalPosition("jsn-pos-stick-rightmiddle",'middle');},initTemplate:function(templateParams)
{_templateParams=templateParams;window.addEvent('domready',JSNTemplate.initOnDomReady);window.addEvent('load',JSNTemplate.initOnLoad);}};;}catch(e){console.error('Error in file:/cache/jsn_epic_pro/2997f8ffe663a3043c57661129436c99.js; Error:'+e.message);};

/***!  /media/system/js/modal.js  !***/

try{var SqueezeBox={presets:{onOpen:function(){},onClose:function(){},onUpdate:function(){},onResize:function(){},onMove:function(){},onShow:function(){},onHide:function(){},size:{x:600,y:450},sizeLoading:{x:200,y:150},marginInner:{x:20,y:20},marginImage:{x:50,y:75},handler:false,target:null,closable:true,closeBtn:true,zIndex:65555,overlayOpacity:.7,classWindow:"",classOverlay:"",overlayFx:{},resizeFx:{},contentFx:{},parse:false,parseSecure:false,shadow:true,overlay:true,document:null,ajaxOptions:{}},initialize:function(e){if(this.options)return this;this.presets=Object.merge(this.presets,e);this.doc=this.presets.document||document;this.options={};this.setOptions(this.presets).build();this.bound={window:this.reposition.bind(this,[null]),scroll:this.checkTarget.bind(this),close:this.close.bind(this),key:this.onKey.bind(this)};this.isOpen=this.isLoading=false;return this},build:function(){this.overlay=new Element("div",{id:"sbox-overlay","aria-hidden":"true",styles:{zIndex:this.options.zIndex},tabindex:-1});this.win=new Element("div",{id:"sbox-window",role:"dialog","aria-hidden":"true",styles:{zIndex:this.options.zIndex+2}});if(this.options.shadow){if(Browser.chrome||Browser.safari&&Browser.version>=3||Browser.opera&&Browser.version>=10.5||Browser.firefox&&Browser.version>=3.5||Browser.ie&&Browser.version>=9){this.win.addClass("shadow")}else if(!Browser.ie6){var e=(new Element("div",{"class":"sbox-bg-wrap"})).inject(this.win);var t=function(e){this.overlay.fireEvent("click",[e])}.bind(this);["n","ne","e","se","s","sw","w","nw"].each(function(n){(new Element("div",{"class":"sbox-bg sbox-bg-"+n})).inject(e).addEvent("click",t)})}}this.content=(new Element("div",{id:"sbox-content"})).inject(this.win);this.closeBtn=(new Element("a",{id:"sbox-btn-close",href:"#",role:"button"})).inject(this.win);this.closeBtn.setProperty("aria-controls","sbox-window");this.fx={overlay:(new Fx.Tween(this.overlay,Object.merge({property:"opacity",onStart:Events.prototype.clearChain,duration:250,link:"cancel"},this.options.overlayFx))).set(0),win:new Fx.Morph(this.win,Object.merge({onStart:Events.prototype.clearChain,unit:"px",duration:750,transition:Fx.Transitions.Quint.easeOut,link:"cancel",unit:"px"},this.options.resizeFx)),content:(new Fx.Tween(this.content,Object.merge({property:"opacity",duration:250,link:"cancel"},this.options.contentFx))).set(0)};document.id(this.doc.body).adopt(this.overlay,this.win)},assign:function(e,t){return(document.id(e)||$$(e)).addEvent("click",function(){return!SqueezeBox.fromElement(this,t)})},open:function(e,t){this.initialize();if(this.element!=null)this.trash();this.element=document.id(e)||false;this.setOptions(Object.merge(this.presets,t||{}));if(this.element&&this.options.parse){var n=this.element.getProperty(this.options.parse);if(n&&(n=JSON.decode(n,this.options.parseSecure)))this.setOptions(n)}this.url=(this.element?this.element.get("href"):e)||this.options.url||"";this.assignOptions();var r=r||this.options.handler;if(r)return this.setContent(r,this.parsers[r].call(this,true));var i=false;return this.parsers.some(function(e,t){var n=e.call(this);if(n){i=this.setContent(t,n);return true}return false},this)},fromElement:function(e,t){return this.open(e,t)},assignOptions:function(){this.overlay.addClass(this.options.classOverlay);this.win.addClass(this.options.classWindow)},close:function(e){var t=typeOf(e)=="domevent";if(t)e.stop();if(!this.isOpen||t&&!Function.from(this.options.closable).call(this,e))return this;this.fx.overlay.start(0).chain(this.toggleOverlay.bind(this));this.win.setProperty("aria-hidden","true");this.fireEvent("onClose",[this.content]);this.trash();this.toggleListeners();this.isOpen=false;return this},trash:function(){this.element=this.asset=null;this.content.empty();this.options={};this.removeEvents().setOptions(this.presets).callChain()},onError:function(){this.asset=null;this.setContent("string",this.options.errorMsg||"An error occurred")},setContent:function(e,t){if(!this.handlers[e])return false;this.content.className="sbox-content-"+e;this.applyTimer=this.applyContent.delay(this.fx.overlay.options.duration,this,this.handlers[e].call(this,t));if(this.overlay.retrieve("opacity"))return this;this.toggleOverlay(true);this.fx.overlay.start(this.options.overlayOpacity);return this.reposition()},applyContent:function(e,t){if(!this.isOpen&&!this.applyTimer)return;this.applyTimer=clearTimeout(this.applyTimer);this.hideContent();if(!e){this.toggleLoading(true)}else{if(this.isLoading)this.toggleLoading(false);this.fireEvent("onUpdate",[this.content],20)}if(e){if(["string","array"].contains(typeOf(e))){this.content.set("html",e)}else{this.content.adopt(e)}}this.callChain();if(!this.isOpen){this.toggleListeners(true);this.resize(t,true);this.isOpen=true;this.win.setProperty("aria-hidden","false");this.fireEvent("onOpen",[this.content])}else{this.resize(t)}},resize:function(e,t){this.showTimer=clearTimeout(this.showTimer||null);var n=this.doc.getSize(),r=this.doc.getScroll();this.size=Object.merge(this.isLoading?this.options.sizeLoading:this.options.size,e);var i=self.getSize();if(this.size.x==i.x){this.size.y=this.size.y-50;this.size.x=this.size.x-20}if(n.x>979){var s={width:this.size.x,height:this.size.y,left:(r.x+(n.x-this.size.x-this.options.marginInner.x)/2).toInt(),top:(r.y+(n.y-this.size.y-this.options.marginInner.y)/2).toInt()}}else{var s={width:n.x-40,height:n.y,left:(r.x+10).toInt(),top:(r.y+20).toInt()}}this.hideContent();if(!t){this.fx.win.start(s).chain(this.showContent.bind(this))}else{this.win.setStyles(s);this.showTimer=this.showContent.delay(50,this)}return this.reposition()},toggleListeners:function(e){var t=e?"addEvent":"removeEvent";this.closeBtn[t]("click",this.bound.close);this.overlay[t]("click",this.bound.close);this.doc[t]("keydown",this.bound.key)[t]("mousewheel",this.bound.scroll);this.doc.getWindow()[t]("resize",this.bound.window)[t]("scroll",this.bound.window)},toggleLoading:function(e){this.isLoading=e;this.win[e?"addClass":"removeClass"]("sbox-loading");if(e){this.win.setProperty("aria-busy",e);this.fireEvent("onLoading",[this.win])}},toggleOverlay:function(e){if(this.options.overlay){var t=this.doc.getSize().x;this.overlay.set("aria-hidden",e?"false":"true");this.doc.body[e?"addClass":"removeClass"]("body-overlayed");if(e){this.scrollOffset=this.doc.getWindow().getSize().x-t}else{this.doc.body.setStyle("margin-right","")}}},showContent:function(){if(this.content.get("opacity"))this.fireEvent("onShow",[this.win]);this.fx.content.start(1)},hideContent:function(){if(!this.content.get("opacity"))this.fireEvent("onHide",[this.win]);this.fx.content.cancel().set(0)},onKey:function(e){switch(e.key){case"esc":this.close(e);case"up":case"down":return false}},checkTarget:function(e){return e.target!==this.content&&this.content.contains(e.target)},reposition:function(){var e=this.doc.getSize(),t=this.doc.getScroll(),n=this.doc.getScrollSize();var r=this.overlay.getStyles("height");var i=parseInt(r.height);if(n.y>i&&e.y>=i){this.overlay.setStyles({width:n.x+"px",height:n.y+"px"});this.win.setStyles({left:(t.x+(e.x-this.win.offsetWidth)/2-this.scrollOffset).toInt()+"px",top:(t.y+(e.y-this.win.offsetHeight)/2).toInt()+"px"})}return this.fireEvent("onMove",[this.overlay,this.win])},removeEvents:function(e){if(!this.$events)return this;if(!e)this.$events=null;else if(this.$events[e])this.$events[e]=null;return this},extend:function(e){return Object.append(this,e)},handlers:new Hash,parsers:new Hash};SqueezeBox.extend(new Events(function(){})).extend(new Options(function(){})).extend(new Chain(function(){}));SqueezeBox.parsers.extend({image:function(e){return e||/\.(?:jpg|png|gif)$/i.test(this.url)?this.url:false},clone:function(e){if(document.id(this.options.target))return document.id(this.options.target);if(this.element&&!this.element.parentNode)return this.element;var t=this.url.match(/#([\w-]+)$/);return t?document.id(t[1]):e?this.element:false},ajax:function(e){return e||this.url&&!/^(?:javascript|#)/i.test(this.url)?this.url:false},iframe:function(e){return e||this.url?this.url:false},string:function(e){return true}});SqueezeBox.handlers.extend({image:function(e){var t,n=new Image;this.asset=null;n.onload=n.onabort=n.onerror=function(){n.onload=n.onabort=n.onerror=null;if(!n.width){this.onError.delay(10,this);return}var e=this.doc.getSize();e.x-=this.options.marginImage.x;e.y-=this.options.marginImage.y;t={x:n.width,y:n.height};for(var r=2;r--;){if(t.x>e.x){t.y*=e.x/t.x;t.x=e.x}else if(t.y>e.y){t.x*=e.y/t.y;t.y=e.y}}t.x=t.x.toInt();t.y=t.y.toInt();this.asset=document.id(n);n=null;this.asset.width=t.x;this.asset.height=t.y;this.applyContent(this.asset,t)}.bind(this);n.src=e;if(n&&n.onload&&n.complete)n.onload();return this.asset?[this.asset,t]:null},clone:function(e){if(e)return e.clone();return this.onError()},adopt:function(e){if(e)return e;return this.onError()},ajax:function(e){var t=this.options.ajaxOptions||{};this.asset=(new Request.HTML(Object.merge({method:"get",evalScripts:false},this.options.ajaxOptions))).addEvents({onSuccess:function(e){this.applyContent(e);if(t.evalScripts!==null&&!t.evalScripts)Browser.exec(this.asset.response.javascript);this.fireEvent("onAjax",[e,this.asset]);this.asset=null}.bind(this),onFailure:this.onError.bind(this)});this.asset.send.delay(10,this.asset,[{url:e}])},iframe:function(e){var t=this.doc.getSize();if(t.x>979){var n=this.options.size.x;var r=this.options.size.y}else{var n=t.x;var r=t.y-50}this.asset=new Element("iframe",Object.merge({src:e,frameBorder:0,width:n,height:r},this.options.iframeOptions));if(this.options.iframePreload){this.asset.addEvent("load",function(){this.applyContent(this.asset.setStyle("display",""))}.bind(this));this.asset.setStyle("display","none").inject(this.content);return false}return this.asset},string:function(e){return e}});SqueezeBox.handlers.url=SqueezeBox.handlers.ajax;SqueezeBox.parsers.url=SqueezeBox.parsers.ajax;SqueezeBox.parsers.adopt=SqueezeBox.parsers.clone;}catch(e){console.error('Error in file:/media/system/js/modal.js; Error:'+e.message);};

/***!  /cache/jsn_epic_pro/f34087c75bee7bdb9b5fe35af6986b1d.js  !***/

try{var JSNMegamenu={init:function()
{},setMegamenuSubmenuPosition:function(enableRTL)
{if(document.getElementById('jsn-tpl-megamenu')==null)return false;parents=document.getElements('ul.jsn-tpl-megamenu > li.megamenu-fixed-width');if(!parents.length)return;var placeMegamenuSubmenu=function(parent){var maxSize=window.getSize();var submenu=parent.getChildren('ul');var farLeft=parent.getPosition().x;if(submenu.length)
{submenu.each(function(ul){var width=ul.getStyle('width').toInt();if(farLeft+width>maxSize.x)
{if(width<farLeft)
{parent.addClass('jsn-submenu-flipback');}}});}};resizeMegamenuSubmenuHandler=function(){parents.each(function(parent){parent.removeClass('jsn-submenu-flipback');placeMegamenuSubmenu(parent);});};window.addEvent('resize',function(){placeMegamenuSubmenu.timer&&clearTimeout(placeMegamenuSubmenu.timer);placeMegamenuSubmenu.timer=setTimeout(resizeMegamenuSubmenuHandler,500);});resizeMegamenuSubmenuHandler();},setMegamenuSubmenuStyle:function()
{if(document.getElementById('jsn-tpl-megamenu')==null)return false;var modMenuElements=document.getElementsByClassName('jsn_tpl_mm_menu_element');var modMenuElementLength=modMenuElements.length;if(!modMenuElementLength)return false;var directionRTL=document.body.hasClass('jsn-direction-rtl');for(var i=0;i<modMenuElementLength;i++)
{var element=modMenuElements[i];var ulChilden=element.getChildren('ul');var size=element.measure(function(){return this.getSize();});var width=size.x;if(ulChilden.length)
{ulChilden.each(function(ul){var liChilden=ul.getChildren('li.parent');if(liChilden.length)
{liChilden.each(function(li){li.getChildren('ul').setStyle('right',width);li.getChildren('ul').setStyle('left',width);});}});}}}};;if(JoomlaShine===undefined){var JoomlaShine={};JoomlaShine.jQuery=window.jQuery.noConflict();}else{if(JoomlaShine.jQuery===undefined){JoomlaShine.jQuery=window.jQuery.noConflict();}};+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function f(){e.trigger("closed.bs.alert").remove()}var c=a(this),d=c.attr("data-target");d||(d=c.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));var e=a(d);b&&b.preventDefault(),e.length||(e=c.hasClass("alert")?c:c.parent()),e.trigger(b=a.Event("close.bs.alert"));if(b.isDefaultPrevented())return;e.removeClass("in"),a.support.transition&&e.hasClass("fade")?e.one(a.support.transition.end,f).emulateTransitionEnd(150):f()};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),typeof b=="string"&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();if(b>this.$items.length-1||b<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){if(this.sliding)return;return this.slide("next")},b.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g=b=="next"?"left":"right",h=b=="next"?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});this.$element.trigger(j);if(j.isDefaultPrevented())return;return this.sliding=!0,f&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(d.css("transition-duration").slice(0,-1)*1e3)):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),f&&this.cycle(),this};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c),g=typeof c=="string"?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),typeof c=="number"?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c=a(this),d,e=a(c.attr("data-target")||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),c.data()),g=c.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=c.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);var e=this.options.trigger.split(" ");for(var f=e.length;f--;){var g=e[f];if(g=="click")this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if(g!="manual"){var h=g=="hover"?"mouseenter":"focusin",i=g=="hover"?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&typeof b.delay=="number"&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout),c.hoverState="in";if(!c.options.delay||!c.options.delay.show)return c.show();c.timeout=setTimeout(function(){c.hoverState=="in"&&c.show()},c.options.delay.show)},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(c.timeout),c.hoverState="out";if(!c.options.delay||!c.options.delay.hide)return c.hide();c.timeout=setTimeout(function(){c.hoverState=="out"&&c.hide()},c.options.delay.hide)},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this,d=this.tip();this.setContent(),this.options.animation&&d.addClass("fade");var e=typeof this.options.placement=="function"?this.options.placement.call(this,d[0],this.$element[0]):this.options.placement,f=/\s?auto?\s?/i,g=f.test(e);g&&(e=e.replace(f,"")||"top"),d.detach().css({top:0,left:0,display:"block"}).addClass(e),this.options.container?d.appendTo(this.options.container):d.insertAfter(this.$element);var h=this.getPosition(),i=d[0].offsetWidth,j=d[0].offsetHeight;if(g){var k=this.$element.parent(),l=e,m=document.documentElement.scrollTop||document.body.scrollTop,n=this.options.container=="body"?window.innerWidth:k.outerWidth(),o=this.options.container=="body"?window.innerHeight:k.outerHeight(),p=this.options.container=="body"?0:k.offset().left;e=e=="bottom"&&h.top+h.height+j-m>o?"top":e=="top"&&h.top-m-j<0?"bottom":e=="right"&&h.right+i>n?"left":e=="left"&&h.left-i<p?"right":e,d.removeClass(l).addClass(e)}var q=this.getCalculatedOffset(e,h,i,j);this.applyPlacement(q,e),this.hoverState=null;var r=function(){c.$element.trigger("shown.bs."+c.type)};a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,r).emulateTransitionEnd(150):r()}},b.prototype.applyPlacement=function(b,c){var d,e=this.tip(),f=e[0].offsetWidth,g=e[0].offsetHeight,h=parseInt(e.css("margin-top"),10),i=parseInt(e.css("margin-left"),10);isNaN(h)&&(h=0),isNaN(i)&&(i=0),b.top=b.top+h,b.left=b.left+i,a.offset.setOffset(e[0],a.extend({using:function(a){e.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),e.addClass("in");var j=e[0].offsetWidth,k=e[0].offsetHeight;c=="top"&&k!=g&&(d=!0,b.top=b.top+g-k);if(/bottom|top/.test(c)){var l=0;b.left<0&&(l=b.left*-2,b.left=0,e.offset(b),j=e[0].offsetWidth,k=e[0].offsetHeight),this.replaceArrow(l-f+j,j,"left")}else this.replaceArrow(k-g,k,"top");d&&e.offset(b)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function e(){b.hoverState!="in"&&c.detach(),b.$element.trigger("hidden.bs."+b.type)}var b=this,c=this.tip(),d=a.Event("hide.bs."+this.type);this.$element.trigger(d);if(d.isDefaultPrevented())return;return c.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?c.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),this.hoverState=null,this},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||typeof a.attr("data-original-title")!="string")&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},typeof b.getBoundingClientRect=="function"?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return a=="bottom"?{top:b.top+b.height,left:b.left+b.width/2-c/2}:a=="top"?{top:b.top-d,left:b.left+b.width/2-c/2}:a=="left"?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||(typeof c.title=="function"?c.title.call(b[0]):c.title),a},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f=typeof c=="object"&&c;if(!e&&c=="destroy")return;e||d.data("bs.tooltip",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,""));if(b.parent("li").hasClass("active"))return;var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});b.trigger(f);if(f.isDefaultPrevented())return;var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})},b.prototype.activate=function(b,c,d){function g(){e.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),f?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var e=c.find("> .active"),f=d&&a.support.transition&&e.hasClass("fade");f?e.one(a.support.transition.end,g).emulateTransitionEnd(150):g(),e.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),typeof c=="string"&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var b=a.Event("show.bs.collapse");this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("collapse in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])},b.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var b=a.Event("hide.bs.collapse");this.$element.trigger(b);if(b.isDefaultPrevented())return;var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!a.support.transition)return d.call(this);this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350)},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),typeof c=="object"&&c);!e&&f.toggle&&c=="show"&&(c=!c),e||d.data("bs.collapse",e=new b(this,f)),typeof c=="string"&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c=a(this),d,e=c.attr("data-target")||b.preventDefault()||(d=c.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":c.data(),i=c.attr("data-parent"),j=i&&a(i);if(!g||!g.transitioning)j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(c).addClass("collapsed"),c[f.hasClass("in")?"addClass":"removeClass"]("collapsed");f.collapse(h)})}(jQuery),+function(a){function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(a.style[c]!==undefined)return{end:b[c]};return!1}"use strict",a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery);}catch(e){console.error('Error in file:/cache/jsn_epic_pro/f34087c75bee7bdb9b5fe35af6986b1d.js; Error:'+e.message);};
;